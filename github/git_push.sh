#!/bin/bash

git config --global user.name "DiaboloKiat"
git config --global user.email "DiaboloKiat@gmail.com"

git status
git checkout master
echo "Enter your message"
read message_base

REPO=master_thesis

BRANCH=master
echo "---------------------------------------------------------------------------------------------------"
source ~/$REPO/github/git_branch.sh
echo "---------------------------------------------------------------------------------------------------"
source ~/$REPO/github/git_pull.sh


PULLSTAT=$?
if [ "$PULLSTAT" -gt 0 ]
then
   echo "There is conflict. Aborting"
   cd $cur_path/
   return
fi
echo "---------------------------------------------------------------------------------------------------"
echo "<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< pull success >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"
echo "---------------------------------------------------------------------------------------------------"

# ---------- Pozyx_UWB ----------- #
echo "---------------------------------------------------------------------------------------------------"
echo "******************************************* push pozyx_uwb ****************************************"
echo "---------------------------------------------------------------------------------------------------"
source ~/$REPO/catkin_ws/src/pozyx_uwb/github/git_push.sh master_thesis
cd ~/$REPO

# ---------- VRX ----------- #
echo "---------------------------------------------------------------------------------------------------"
echo "********************************************* push vrx ********************************************"
echo "---------------------------------------------------------------------------------------------------"
source ~/$REPO/catkin_ws/src/vrx/github/git_push.sh master_thesis
cd ~/$REPO

# ---------- Turtlebot3 ---------- #

echo "---------------------------------------------------------------------------------------------------"
echo "****************************************** push turtlebot3 ****************************************"
echo "---------------------------------------------------------------------------------------------------"
cd ~/$REPO/catkin_ws/src/Turlebot/turtlebot3
git add -A
git commit -m "${message_base} on turtlebot3"
git push


echo "---------------------------------------------------------------------------------------------------"
echo "************************************ push turtlebot3_simulations **********************************"
echo "---------------------------------------------------------------------------------------------------"
cd ~/$REPO/catkin_ws/src/Turlebot/turtlebot3_simulations
git add -A
git commit -m "${message_base} on turtlebot3_simulations"
git push


# ---------- ARG ---------- #
echo "---------------------------------------------------------------------------------------------------"
echo "**************************************** push real_to_sim_env *************************************"
echo "---------------------------------------------------------------------------------------------------"
cd ~/$REPO/catkin_ws/src/ARG/real_to_sim_env
git add -A
git commit -m "${message_base} on real_to_sim_env"
git push

BRANCH=devel-kiat
echo "---------------------------------------------------------------------------------------------------"
echo "******************************************** push subt-gazebo *************************************"
echo "---------------------------------------------------------------------------------------------------"
cd ~/$REPO/catkin_ws/src/ARG/subt-gazebo
git checkout $BRANCH
git add -A
git commit -m "${message_base} on subt-gazebo"
git push

BRANCH=devel-kiat
echo "---------------------------------------------------------------------------------------------------"
echo "********************************************** push subt_rl ***************************************"
echo "---------------------------------------------------------------------------------------------------"
cd ~/$REPO/catkin_ws/src/ARG/subt_rl
git checkout $BRANCH
git add -A
git commit -m "${message_base} on subt_rl"
git push



# ---------- Master_Thesis ---------- #

echo "----------------------------------------------------------------------------------------------------"
echo "*************************************** push master_thesis *****************************************"
echo "----------------------------------------------------------------------------------------------------"
cd ~/$REPO
git add -A
git commit -m "${message_base} on master_thesis"
git push


cd ~/$REPO